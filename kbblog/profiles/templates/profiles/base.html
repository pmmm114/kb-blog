{% load static %}
{% load sass_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="kblee's blog, kblee의 개발블로그입니다. 기술소개, 기술포스팅 및 블로그개발 내용을 확인할 수 있습니다.">
    <meta name="keyword" content="blog, portfolio, study">
    <meta name="author" content="Kangbok Lee">
    <title>kblee's blog</title>
    {% for css in cssFiles %}
        <link href="{% sass_src css %}" rel="stylesheet" type="text/css" />
    {% endfor %}
</head>
<body>
    <div id="header" class="header">
        <div class="gnb">
            <nav class="gnb__nav">
                <div class="gnb__nav-inner">
                    <a href="/profiles/" class="kblee-logo">
                        KBlee.me
                    </a>
                    <ul class="gnb__nav-list">
                        <li class="gnb__nav-item">
                            <a href="/profiles/post" class="gnb__nav-anchor">게시판</a>
                        </li>
                    </ul>
                    <div class="gnb__nav-right">
                        <!-- <a href="http://github.com/pmmm114" class="gnb__github-logo github-logo" target="_blank">
                            <span class="github-icon"></span>
                            <span class="blind">
                                아이콘 제작자
                                <a href="https://www.flaticon.com/kr/authors/pixel-perfect" title="Pixel perfect">
                                    Pixel perfect
                                </a> from
                                <a href="https://www.flaticon.com/kr/" title="Flaticon"> www.flaticon.com</a>
                            </span>
                        </a> -->
                        {% if user.is_authenticated %}
                        <div>
                            {{user.username}} 님 <a class="anchor-button login-button normal-button-style uppercase bold" href="/profiles/logout?next={{request.path}}">Logout</a>
                        </div>
                        {% else %}
                            <a class="anchor-button login-button normal-button-style uppercase bold" href="/profiles/login">Login</a>
                            <!-- <a class="anchor-button login-button normal-button-style uppercase bold" href="{% url 'social:begin' 'google-oauth2' %}?next={{request.path}}">Login</a> -->
                        {% endif %}
                    </div>
                    <!-- <div class="gnb__nav-search">
                        <button type="button" class="gnb__nav-search-trigger" data-popup-target="search-popup">
                            <span class="gnb__nav-search-icon search-icon"></span>
                            <span class="blind">search</span>
                        </button>
                    </div> -->
                </div>
            </nav>
        </div>
    </div>
    <div id="content" class="content" role="main">
        <h1 class="blind">kblee's blog</h1>
        {% block content %}{% endblock %}
    </div>
    <div id="footer" class="footer">
        <div class="footer__content"></div>
    </div>
    <!-- <div class="search-popup common-popup" data-popup-value="search-popup">
        <div class="search-popup__inner">
            <div class="search-popup__search-input-wrap round-input">
                <input type="text" name="commonSearchInput" id="commonSearchInput" class="search-popup__search-input round-input__input" placeholder="검색어를 입력해주세요">
                <button type="button" class="search-popup__search-input-delete round-input__delete"></button>
                <button type="submit" class="search-popup__search-input-submit round-input__submit"></button>
            </div>
            <button type="button" class="search-popup__close-btn close-btn">
                <span class="blind">close</span>
            </button>
        </div>
    </div> -->
    <div class="dimmed"></div>
    <script type="text/javascript">
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const scope = {
                    scope: '/',
                };

                navigator.serviceWorker.register('{% url "service_worker" %}', scope).then((registration) => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, (err) => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
    <script src="{% static 'profiles/js/profiles.js' %}"></script>
</body>
</html>